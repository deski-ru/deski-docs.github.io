<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" class="h-100">
<head>
    <meta charset="utf-8" />
    <meta name="robots" content="noindex, nofollow" />
    <title>Документация Deski.ru</title>
    <meta name="description" content="Документация Deski.ru" />
    <link href="static/css/2.1e034426.chunk.css" rel="stylesheet">
<link href="static/css/main.0bcfb2e8.chunk.css" rel="stylesheet">
<link href="static/css/custom.css" rel="stylesheet">
</head>
<body class="h-100">
    <main class="mdb-skin h-100">
        <div class="row mx-0 h-100">
            <div class="col-12 col-md-3 h-100 pl-0">
                <div class="nav flex-column stylish-color py-4 mb-r z-depth-1 min-vh-100">
    <a class="nav-link white-text" href="index.html">Главная</a>

    <a class="nav-link white-text" href="docs-users.html">Пользователи и группы</a>
    <a class="nav-link white-text" href="docs-billing.html">Оплата</a>

    <a class="nav-link white-text" href="docs-settings.html">Настройки</a>
    <a class="nav-link white-text pl-4" href="docs-settings-site.html">Настройки сайта</a>
    <a class="nav-link white-text pl-4" href="docs-settings-ticketstatus.html">Статусы заявок</a>
    <a class="nav-link white-text pl-4" href="docs-settings-tickettype.html">Тип заявки</a>
    <a class="nav-link white-text pl-4" href="docs-settings-ticketlevel.html">Приоритеты заявок</a>
    <a class="nav-link white-text pl-4" href="docs-settings-clienttype.html">Типы клиентов</a>
    <a class="nav-link white-text pl-4" href="docs-settings-ticketresult.html">Результаты заявок</a>
    <a class="nav-link white-text pl-4" href="docs-settings-siteinfodata.html">Ресурсы</a>

    <a class="nav-link white-text" href="docs-channels.html">Каналы</a>
    <a class="nav-link white-text pl-4" href="docs-channels-emailinfo.html">Email</a>
    <a class="nav-link white-text pl-4" href="docs-channels-chatinfo.html">Чат для сайта</a>
    <a class="nav-link white-text pl-4" href="docs-channels-telegraminfo.html">Telegram</a>
    <a class="nav-link white-text pl-4" href="docs-channels-vkinfo.html">Vk сообщества</a>
    <a class="nav-link white-text pl-4" href="docs-channels-viberinfo.html">Viber</a>
    <a class="nav-link white-text pl-4" href="docs-channels-siteformmessagesinfo.html">Форма для сайта</a>
    <a class="nav-link white-text pl-4" href="docs-channels-siteapiinfo.html">API</a>

    <a class="nav-link white-text" href="docs-tickets.html">Заявки</a>
    <a class="nav-link white-text pl-4" href="docs-tickets-messagepattern.html">Шаблоны ответов</a>
    <a class="nav-link white-text pl-4" href="docs-tickets-messagesignature.html">Подпись</a>
    <a class="nav-link white-text pl-4" href="docs-tickets-ticketroute.html">Маршруты заявок</a>
    <a class="nav-link white-text pl-4" href="docs-tickets-clients.html">Клиенты</a>
    <a class="nav-link white-text pl-4" href="docs-tickets-ticketcategory.html">Категорий заявок</a>
</div>
            </div>
            <div class="col-12 col-md-9 pt-3">
                
<div id="deski-form">
	<h1>Нужна помощь? Напишите нам!</h1>

	<div id="deski-form-inputs">
		<div data-test="row" class="row mt-4">
			<div data-test="col" class="col-md-12">
				<label htmlFor="deski-form-client-channel" className="grey-text">
					Ваш Email
				</label>
				<div class="md-form md-outline mb-3 mt-0">
					<input data-test="input" required="" id="deski-form-client-channel" name="deski-form-client-channel" type="email" class="deski-form-input form-control message-bg-color" value="">
					<label class="rounded" data-error="" data-success=""></label>
				</div>
			</div>
			<div data-test="col" class="col-md-12">
				<div class="md-form md-outline mb-3 mt-0">
					<input data-test="input" id="deski-form-subject" name="deski-form-subject" required="" type="text" class="deski-form-input form-control message-bg-color" value="">
					<label class="rounded" data-error="" data-success="">Тема сообщения</label>
				</div>
			</div>
			<div data-test="col" class="col-md-12">
				<div class="md-form md-outline mb-3 mt-0">
					<textarea data-test="input" id="deski-form-body" name="deski-form-body" rows="4" required="" class="deski-form-input form-control scrollbar scrollbar-primary message-bg-color rounded"></textarea>
					<label class="rounded" data-error="" data-success="">Введите сообщение</label>
				</div>
			</div>
			<div data-test="col" class="col-md-12">
				<div class="text-center">
					<button onclick="deskiSendForm(); return false;" data-test="button" type="button" class="btn btn-primary Ripple-parent text-white button-custom rounded">
						<i data-test="fa" class="fa fa-paper-plane mr-1"></i> 
						Отправить
						<div data-test="waves" class="Ripple " style="top: 0px; left: 0px; width: 0px; height: 0px;"></div>
					</button>
				</div>
			</div>
		</div>
	</div>

    <div id="deski-form-sending" class="deski-form-hidden">
        <p>Отправляется...</p>
    </div>

    <div id="deski-form-success" class="deski-form-hidden">
        <p class="deski-form-success">Запрос успешно отправлен</p>
    </div>

    <div id="deski-form-error" class="deski-form-hidden">
        <p class="deski-form-error">Ошибка при отправке запроса</p>
        <p><button onclick="deskiSendFormRetry(); return false;">Попробовать еще раз</button></p>
    </div>

    <style type="text/css">
        .deski-form-input {
            width: 100%;
        }

        .deski-form-hidden {
            display: none;
        }

        .deski-form-success {
            color: #4caf50;
        }

        .deski-form-error {
            color: #f44336;
        }
    </style>

    <script type="text/javascript">
		function deskiSendForm() {
			var formInputs = document.getElementById('deski-form-inputs');
			var formSending = document.getElementById('deski-form-sending');

			var subject = document.getElementById('deski-form-subject');
			var body = document.getElementById('deski-form-body');
			var clientChannel = document.getElementById('deski-form-client-channel');

			formInputs.style.display = 'none';
			formSending.style.display = 'block';

			deskiSendFormToServer(subject.value, body.value, clientChannel.value, deskiSendFormSuccess, deskiSendFormError);
		}

		function deskiSendFormRetry() {
			var formInputs = document.getElementById('deski-form-inputs');
            var formSuccess = document.getElementById('deski-form-success');
            var formError = document.getElementById('deski-form-error');

            formInputs.style.display = 'block';
            formSuccess.style.display = 'none';
            formError.style.display = 'none';
        }

		function deskiSendFormSuccess() {
			var formSending = document.getElementById('deski-form-sending');
			var formSuccess = document.getElementById('deski-form-success');

			formSending.style.display = 'none';
			formSuccess.style.display = 'block';
		}

		function deskiSendFormError() {
			var formSending = document.getElementById('deski-form-sending');
			var formError = document.getElementById('deski-form-error');

			formSending.style.display = 'none';
			formError.style.display = 'block';
		}

		async function deskiSendFormToServer(subject, body, clientChannel, onSuccess, onError) {
			try {
				const data = {
					siteId: '51b179fa-5ec6-49f2-89b5-ac780459e24f',
					// inputChannel: 'support@deski.ru',
					// Для отправки сообщений на конкретный Email раскомментируйте строку выше
					clientChannel,
					subject,
					body,
				};

				const result = await fetch('https://api.deski.ru/forms/add/', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json;charset=utf-8',
					},
					body: JSON.stringify(data),
				});

				if(!result.ok || result.status !== 200) {
					throw new Error('Ошибка при отправке запроса к серверу.');
				}

				onSuccess && onSuccess();
			} catch (error) {
				onError && onError();
				console.error(error);
			}
		}
    </script>
</div>
            </div>
        </div>
    </main>

    <script type="text/javascript" src="static/js/site.js"></script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(61427608, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true });</script> <noscript><div><img src="https://mc.yandex.ru/watch/61427608" style="position:absolute; left:-9999px;" alt="" /></div></noscript> 
    <!-- /Yandex.Metrika counter -->
</body>
</html>